(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{"/7QA":function(e,t,n){"use strict";var a=n("tJVT"),r=n("q1tI"),o=n.n(r),c=n("zoEq"),i=(n("sWDv"),e=>{var t=Object(r["useRef"])(),n=e.src,c=e.site,i=e.index,s=e.transInfo,l=e.scaleRate,u=Object(r["useState"])({width:1,height:1}),d=Object(a["a"])(u,2),m=d[0],h=d[1],w=Object(r["useState"])({width:1,height:1}),p=Object(a["a"])(w,2),g=p[0],x=p[1],v=m.width/m.height,b=g.width/g.height,f=Object(r["useMemo"])((()=>b>v?{width:Math.min(g.width,m.width)}:{height:Math.min(g.height,m.height)}),[b,v,m,g]);return Object(r["useEffect"])((()=>{var e=new Image;e.onload=()=>{x({width:e.width,height:e.height})},e.src=n}),[]),Object(r["useEffect"])((()=>(h({width:window.innerWidth,height:window.innerHeight}),window.addEventListener("resize",(()=>{h({width:window.innerWidth,height:window.innerHeight})})),()=>{window.removeEventListener("resize",(()=>{}))})),[]),o.a.createElement("div",{className:"image-slide",style:{transform:"translate3d(calc(".concat(-100*(i-c),"% + ").concat(1===l||i===c?s.x:0,"px), ").concat(i===c?s.y:0,"px, 0)")}},o.a.createElement("img",{src:n,className:"image-item",style:Object.assign({},f,{transform:"translate3d(-50%, -50%, 0) scale(".concat(i===c?l:1)}),ref:t}))}),s=()=>{};var l=!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),u=e=>{var t=Object(r["useRef"])(),n=Object(r["useRef"])(1),u=Object(r["useRef"])({x:0,y:0}),d=Object(r["useRef"])({x:0,y:0}),m=Object(r["useRef"])(),h=e.onClose,w=void 0===h?s:h,p=e.index,g=void 0===p?0:p,x=e.urls,v=void 0===x?[]:x,b=Object(r["useState"])(g),f=Object(a["a"])(b,2),y=f[0],E=f[1],O=Object(r["useState"])({x:0,y:0}),j=Object(a["a"])(O,2),M=j[0],T=j[1],W=Object(r["useState"])(1),N=Object(a["a"])(W,2),D=N[0],I=N[1];Object(r["useEffect"])((()=>(document.body.classList.add("fixed-body"),()=>{document.body.classList.remove("fixed-body")})),[]),Object(r["useEffect"])((()=>{d.current={x:0,y:0},T({x:0,y:0}),u.current={x:0,y:0},I(1),n.current=1;var e=new c["a"](t.current);return e.on("tap",(e=>{var t=e.target;if(!/point|tools/.test(t.className))return m.current?(clearTimeout(m.current),m.current=null,void(1===n.current?(n.current=2,I(2)):(I(1),d.current={x:0,y:0},T({x:0,y:0}),u.current={x:0,y:0},n.current=1))):void(m.current=setTimeout((()=>{w()}),200))})),e.on("swipe",(e=>{"left"===e.direction&&y<v.length-1&&E(y+1),"right"===e.direction&&y>0&&E(y-1)})),e.on("panmove",(e=>{console.log("pan\u4e8b\u4ef6",e.displacementX);var t=0,n=0;t=e.displacementX<0?Math.max(e.displacementX,-window.innerWidth/5):Math.min(e.displacementX,window.innerWidth/5),n=e.displacementY<0?Math.max(e.displacementY,-window.innerHeight/5):Math.min(e.displacementY,window.innerHeight/5);var a=0,r=0,o=d.current.x+t,c=d.current.y+n;a=o>=0?Math.min(o,window.innerWidth/2):Math.max(o,-window.innerWidth/2),r=c>=0?Math.min(c,window.innerWidth/2):Math.max(c,-window.innerWidth/2),a=parseInt(a.toFixed(0)),r=parseInt(r.toFixed(0));var i={x:a,y:r};requestAnimationFrame((()=>{T(i),u.current=i}))})),e.on("panend",(e=>{var t,a=(null===d||void 0===d||null===(t=d.current)||void 0===t?void 0:t.x)||0;d.current={x:d.current.x+e.displacementX,y:d.current.y+e.displacementY},setTimeout((()=>{T({x:1===n.current?0:u.current.x,y:1===n.current?0:u.current.y})}),100),Math.abs(e.x-a)/window.innerWidth>1/3&&1===n.current&&(e.x-a<=0?y<v.length-1&&E(y+1):y>0&&E(y-1))})),e.on("pinchmove",(e=>{console.log("pinch",e.scale),requestAnimationFrame((()=>{e.scale>.5&&e.scale<3&&I(e.scale)})),n.current=e.scale})),()=>{e.destroy()}}),[y]);var A=()=>{console.log("zoomIn",n.current),n.current<3&&(n.current=Math.min(2*n.current,3),I(n.current))},F=()=>{console.log("zoomOut",n.current),n.current>.5&&(n.current=Math.max(.8*n.current,.5),I(n.current))},R=()=>{console.log("zoomReset",n.current),1!==n.current&&(n.current=1,I(1),d.current={x:0,y:0},T({x:0,y:0}),u.current={x:0,y:0})},k=()=>{y>0&&E((e=>e-1))},z=()=>{y<v.length-1&&E((e=>e+1))},C=e=>{console.log("onTouchMove",e.touches[0].clientX)};return o.a.createElement("div",{className:"image-root",ref:t,onTouchMove:C},v.map(((e,t)=>o.a.createElement(i,{key:t,src:e,index:y,site:t,transInfo:M,scaleRate:D}))),v.length>1&&o.a.createElement("div",{className:"point-box"},new Array(v.length).fill(0).map(((e,t)=>o.a.createElement("span",{key:t,className:"point ".concat(y===t?"point-on":""),onMouseDown:()=>{console.log("point mouse",t),E(t)},onTouchEnd:()=>{console.log("point Touch",t),E(t)}})))),l&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"image-tools"},o.a.createElement("span",{className:"tools-btn tools-reduce",onMouseDown:F,onTouchEnd:F}),o.a.createElement("span",{className:"tools-btn tools-add",onMouseDown:A,onTouchEnd:A}),o.a.createElement("div",{className:"tools-reset",onMouseDown:R,onTouchEnd:R},"\u91cd\u7f6e")),o.a.createElement("div",{className:"tools-arrow tools-left",onMouseDown:k,onTouchEnd:k}),o.a.createElement("div",{className:"tools-arrow tools-right",onMouseDown:z,onTouchEnd:z})))};t["a"]=u},DvCH:function(e,t,n){e.exports=n.p+"static/a-sm.b4911aee.png"},"F/wz":function(e,t,n){e.exports=n.p+"static/y-lg.ea6fc5d3.png"},FWJK:function(e,t,n){e.exports=n.p+"static/x-lg.16657d5b.png"},GK4a:function(e,t,n){e.exports=n.p+"static/x-sm.c8b2241a.png"},Gojg:function(e,t,n){"use strict";n.r(t);var a=n("tJVT"),r=n("q1tI"),o=n.n(r),c=n("9ibs"),i=n("/7QA"),s=n("kiTE"),l=n.n(s),u=n("DvCH"),d=n.n(u),m=n("FWJK"),h=n.n(m),w=n("GK4a"),p=n.n(w),g=n("F/wz"),x=n.n(g),v=n("HClg"),b=n.n(v);t["default"]=()=>{var e=Object(r["useState"])(!1),t=Object(a["a"])(e,2),n=t[0],s=t[1],u=()=>s((e=>!e));return o.a.createElement("div",null,o.a.createElement(c["a"],{color:"primary",onClick:u},"Primary"),n&&o.a.createElement(i["a"],{urls:[l.a,d.a,h.a,p.a,x.a,b.a],onClose:u}))}},HClg:function(e,t,n){e.exports=n.p+"static/y-sm.ea59dfd7.png"},PChA:function(e,t,n){"use strict";n.r(t);var a=n("q1tI"),r=n.n(a),o=n("/7QA");t["default"]=()=>r.a.createElement(o["a"],null)},kiTE:function(e,t,n){e.exports=n.p+"static/a-lg.70618029.png"},sWDv:function(e,t,n){}}]);